<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Cafeteria</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="icons.css">
    <link rel="stylesheet" href="materialize.min.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="materialize.min.js"></script>
    <script>
    $(document).ready(function(){
        $('.sidenav').sidenav();
    });
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="materialize.min.js"></script>
    <script src="cafeteria.js"></script>
  </head>
  <body onload="updateLogIn(); loadPage()">
      <nav>
        <div class="nav-wrapper blue-grey lighten-4">
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i style="color: #42a5f5;" class="material-icons">menu</i></a>
            <a href="../" class="brand-logo"><img src="./static/logo.png" height="63"></a>
            <ul id="nav-mobile" class="right">
                <li><a href="/settings.html" id="settingButton"><i style="color: #42a5f5;" class="material-icons">settings</i></a></li>
            </ul>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a style="color: #42a5f5;" href="/dashboard">Dashboard</a></li>
                <li><a style="color: #42a5f5;" href="/info.html">Information</a></li>
                <li><a style="color: #42a5f5;" href="/events.html">Events</a></li>
                <li class="active"><a style="color: #42a5f5;" href="/cafeteria.html">Cafeteria</a></li>
                <li style="width: 50px; height: 60px;">&nbsp;</li>
                <li><a style="color: #42a5f5;" href="/signup.html" class="signupButton">Sign Up</a></li>
                <li><a style="color: #42a5f5;" class= "loginButton">Log In</a></li>
            </ul>
        </div>
      </nav>
      <ul class="sidenav" id="mobile-demo">
        <li><a style="color: #42a5f5;" href="/dashboard">Dashboard</a></li>
        <li><a style="color: #42a5f5;" href="/events.html">Events</a></li>
        <li class="active"><a style="color: #42a5f5;" href="/cafeteria.html">Cafeteria</a></li>
        <li><a style="color: #42a5f5;" href="/signup.html" class="signupButton">Sign Up</a></li>
        <li><a style="color: #42a5f5;" class ="loginButton">Log In</a></li>
      </ul>
    <main>
      <div class="container">
        <div class="section">
          <div id="cafeterias">
            <h5>Available Dining Halls</h5>
          </div>
        </div>
        <div class="section">
          <div id="message"></div>
          <div class="card indigo lighten-5" style="border-radius: 3px;" id="card-for-forms">
            <div class="card-content">
              <form action="/cafeteria-preferences" method="POST" id="preferences-form" onsubmit="return validation()" style="display: none">
                <p class="card-title">Submit Your Meal Preferences</p>
                <div class="row">
                  <div class="col s3 left">
                    <select name="cafeteria-field" id="cafeteria-field" class="validate">
                      <option value="" disabled selected>Select Cafeteria</option>
                    </select>
                  </div>
                </div>
                <p>Please indicate below when your preferences for when you would like to eat lunch and dinner.</p>
                <div class="row">
                  <div class="col s3">
                    <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Lunch Start" class="timepicker" name="lunch-pref-start" id="lunch-pref-start" style="font-color: white">
                    <p id="lunch-pref-start-msg"></p>
                  </div>
                  <div class="col s3">
                    <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Lunch End" class="timepicker" name="lunch-pref-end" id="lunch-pref-end" style="font-color: white">
                    <p id="lunch-pref-end-msg"></p>
                  </div>
                  <div class="col s3">
                    <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Dinner Start" class="timepicker" name="dinner-pref-start" id="dinner-pref-start" style="font-color: white">
                    <p id="dinner-pref-start-msg"></p>
                  </div>
                  <div class="col s3">
                    <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Dinner End" class="timepicker" name="dinner-pref-end" id="dinner-pref-end" style="font-color: white">
                    <p id="dinner-pref-end-msg"></p>
                  </div>
                </div>
                <div class="right">
                  <button class="btn waves-effect waves-light" type="submit" name="preferences-submit">submit</button>
                </div>
              </form>
            </div>
          </div>
          <form action="/" method="POST" id="school-preferences-form" onsubmit="return validation()" style="display: none">
            <input type="text" placeholder="Cafeteria Name" name="cafeteria-name" id="cafeteria-name">
            <div class="row valign-wrapper center">
              <div class="col s4">
                <p class="range-field">
                  Max Capacity of Dining Hall
                  <input oninput="updateTextInput(this.value, this.id)" step="10" type="range" id="max-capacity" name="max-capacity" min="0" max="1000" value="0"/>
                </p>
              </div>
              <div class="col s2">
                <p><span id="max-capacity-preview">0</span> students</p>
              </div>
              <div class="col s4">
                <p class="range-field">
                  Meal Time (minutes)
                  <input oninput="updateTextInput(this.value, this.id)" ste="10" type="range" id="meal-time" name="meal-time" min="0" max="100" value="30"/>
                </p>
              </div>
              <div class="col s2">
                <p><span id="meal-time-preview">30</span> minutes</p>
              </div>
            </div>
            <div class="row">
              <div class="col s3">
                <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Lunch Start" class="timepicker" name="lunch-start" id="lunch-start" style="font-color: white">
                <p id="lunch-start-msg"></p>
              </div>
              <div class="col s3">
                <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Lunch End" class="timepicker" name="lunch-end" id="lunch-end" style="font-color: white">
                <p id="lunch-end-msg"></p>
              </div>
              <div class="col s3">
                <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Dinner Start" class="timepicker" name="dinner-start" id="dinner-start" style="font-color: white">
                <p id="dinner-start-msg"></p>
              </div>
              <div class="col s3">
                <input type="text" onchange="updateTimeInput(this.value, this.id)" placeholder="Dinner End" class="timepicker" name="dinner-end" id="dinner-end" style="font-color: white">
                <p id="dinner-end-msg"></p>
              </div>
            </div>
            <div class="row right">
              <div class="col s2">
                <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                  <i class="material-icons right">send</i>
                </button>
              </div>
            </div>
          </form>
          <div id="schedule" style="display: none">
            <div class="row">
              <div class="col s12">
                <ul class="tabs">
                  <li class="tab col s6"><a class="active" href="#lunch-container">Lunch</a></li>
                  <li class="tab col s6"><a href="#dinner-container">Dinner</a></li>
                </ul>
              </div>
              <div id="lunch-container" class="col s12">
                <h4>Lunch Schedule</h4>
                <ul id="lunch"></ul>
              </div>
              <div id="dinner-container" class="col s12">
                <h4>Dinner Schedule</h4>
                <ul id="dinner"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer class="page-footer blue-grey lighten-2 ">
        <div class="footer-copyright blue-grey lighten-2">
            <div class="container blue-grey-text text-darken-2 left">
            Â© 2020 Covidiena. All Rights Reserved.
            <a class="blue-text text-darken-1 right" href="mailto: covidiena@gmail.com">Contact Us</a>
            </div>
        </div>
    </footer>
  </body>
</html>
